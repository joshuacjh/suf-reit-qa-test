Use the Playwright MCP Server to navigate to the website https://sufreit-dev.sunway.com.my/login/impersonate. 
Ensure the MCP Server is actively handling the browser automation to validate its integration. 
Do not simulate the tests statiscally or bypass the MCP Server. All interactions must be routed through MCP. Run in cursor browser

Scenario 1: Create new company profile by enter all mandatory fields + optional fields and click on Submit button

Steps:
1.	Click the Reset button
2.	Click the Project Master Setup tab.
3.	Click the Setup tab.
5.	On the Company List Dashboard, click the Add New Company button to open the New Company form.
6.	Fill in the New Company form:
	- Populate all mandatory fields with valid data and Populate optional fields as needed.
7.	Submit the form:
	- Click the Submit button.
	- Click Yes on the confirmation dialog.
	- Enter a comment in the Comment field.
	- Click the Confirm button to complete submission

The following fields must be filled before the form can be submitted successfully:
- Company Name, Company Code, JDE Environment, JDE Industry Type, JDE Company Code, JDE Business Unit Code, Registration ID Number, SST Registration Number, Secret Key 1, Secret Key 2, TIN Number, Address, Country (Default value: Malaysia â€” do not change), State, City, District, Postcode, Phone Number, Email Address

Optional fields
- Any fields not listed in the mandatory fields section are considered optional

Verify that:
1. The system does not allow submission if any mandatory field is missing.
2. A confirmation dialog is displayed after clicking the Submit button.
3. After clicking Yes, the system prompts the user to enter a comment.
4. A successful submission message is displayed after confirmation.
5. Clicking OK on the success message redirects the user to the Company List Dashboard.
6. The newly created Company Name is displayed correctly under the Company Details tab.
7. The Status of the company is displayed as Completed.
8. The Project List button is visible when the status is Completed.
9. Following Action buttons are available : Edit, Edit Team Members, and Delete
10. Under the Company Details tab, the Edit Company Details section displays: Update button & Cancel button
11. User action is captured correctly under History tab

After validating all scenarios, close the browser once completed and use Playwright MCP integration to generate TypeScript 
automation code, saving the output in tests/pms/company-setup.spec.ts



Scenario 2: Create new company profile by enter all mandatory fields + optional fields and click on Save as Draft button

Steps: Doing the same steps as Scenario 1, but clicking on the Save as Draft button instead of the Submit button

Validate that:
1. Company status = Draft
2. In Company List Dashboard, the project list field = Project List button is not available and hidden 
3. Following Action buttons are available : Edit, Edit Team Members, and Delete
4. Under the Company Details tab, the Edit Company Details section displays: Save as Draft button, Submit button, and Cancel button
5. User action is captured correctly under History tab


Scenario 3: Edit/ update existing company profile (status = Draft) of any mandatory fields and click on Save as Draft button

Precondition:
- Check the Company List Dashboard for an existig company profile with status = Draft
	- if no Draft profile exists, create a new company profile and save it as draft
	- if draft profile exists, proceed to edit one existing profile

Steps:
1. Open Edit Company Profile form for the selected draft company
2. Update the company profile by modifying any two optional fields, and one mandatory field with valid data
3. Click Save as Draft button
4. Validate the confirmation message is displayed and click Ok to close the message, verify that user is redirected back to Company List Dashboard

Validate that:
1. Updated details is displayed correctly under Company Dashboard and Company Details tab
2. Company status = Draft
3. In Company List Dashboard, the project list field = Project List button is not available and hidden 
4. Following Action buttons are available : Edit, Edit Team Members, and Delete
5. Under the Company Details tab, the Edit Company Details section displays: Save as Draft button, Submit button, and Cancel button
6. User action is captured correctly under History tab


Scenario 4.0: Edit/update existing company profile (status = Draft) of any optional field fields and click on Save button
Steps: Doing the same steps and validation as Scenario 3.0, but now is updating any optional fields (fields that not required to fill)


Scenario 6.0: Add New Team Member for the New data (status: Completed) under Management, Director and Tender Committee Members section, then click on Save button

Steps
1. Search for company profile under own creation with status = Completed
2. Click on Edit Team Members button in Actions column
3. Click on Team Members tab
4. Add New Team Member under Management, Director and Tender Committee Members section
	- select any role, Users need to be option with keyword "train user"
5. Click on update button

Validate that:
1. User able to ADD new team member under Management, Director and Tender Committee Members section with successful message return
2. Added new team member is reflect correct details in the Team member Tab
3. Update team member record is captured correctly under History tabs